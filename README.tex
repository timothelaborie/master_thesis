# Master thesis

## Title
Analyzing Bitcointalk.org with Large Language Models

## Master Thesis student
Timoth√© Laborie

## Supervisors
Cyrille Grumbach, Prof. Dr. Thomas Hofmann


# Folders

## hardwarelist

Includes the following:

- pmaxv1 folder: contains the maximum hardware efficiency for each date alongside some manually added updates, originally made by Cyrille.
- get_hwd_asicminervalue.js and get_hwd_bitcoinwiki.js: Can be pasted into the browser console in the URLs listed within the files, used to extract the hardware efficiency table
- hardware_asicminervalue.txt and hardware_bitcoinwiki.txt: The raw output from the above scripts
- 1_cleanup_hardware_table.ipynb: Used to clean up the raw output, to create hardware_asicminervalue.csv and hardware_bitcoinwiki.csv
- 2_merge_tables.ipynb: Merges the two tables into hardware_merged.csv
- 3_paper_list.ipynb: Creates 4 things. 1: The hardware table in the appendix. 2: The pmaxv2.csv file, which uses the hardware_merged.csv file to create an improved table with the maximum hardware efficiency for each date. 3: The pmax evolution table for the paper. 4: The paper_list.csv file, which is used to create an excel sheet later
- 4_create_pmaxv3.ipynb: Creates the pmaxv3.csv file, which is the max between the pmaxv1.csv and pmaxv2.csv files


## bitcoinforum

### 1_forum_dataset

Contains the raw HTML from the forum, and code to parse it and combine it into dataframes.

### 2_train_set_creation

Combines the forum sections into one, truncates long threads, passes a random sample to GPT4 to get the training set for Mistral 7B, also creates the inputs that will be given to Mistral 7B after training.

### 3_training

Trains Mistral 7B using LoRA, on the dataset generated earlier, and saves the merged model


### 4_inference

Runs inference of the trained Mistral 7B on inputs.csv created in part 2.

### 5_processing_extracted_data

Includes the following files:

- 1_processing.ipynb: Takes the raw output from Mistral 7B and converts it into hardware_instances.csv
- 2_create_mapping.ipynb: Uses GPT4 to map the hardware names to those of the efficiency table
- 3_add_efficiency.ipynb: Merges the mapped hardware instances and the efficiency table to get hardware_instances_with_efficiency.csv
- 4_visualizations.ipynb, not_usable_threads.txt, hardware_instances_inc_threads.csv: Only used for debugging
- hardware_mapping.py: automatically generated by step 3

### 6_merging

Averages the forum efficiency on a monthly basis, then merges it alongside the Bitcoin price, hashrate, coins per block, and maximum hardware efficiency to create monthly_stuff.csv

monthly_stuff.csv contains columns: date,price,hashrate,coins_per_block,efficiency,max_efficiency

### 7_econometrics

Trains an ARIMA model and exports the predictions which are used in the plot called "pricepredictions.pdf"


## plots

Includes the following:

carboncomparison folder: Contains the 17 sources used to create the carbon comparison table